var e;(()=>{function t(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var n={};n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}();var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;r>n;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)};const a=function(){function e(){this.listeners={}}return e.prototype.on=function(e,t){var n=this;return this.listeners[e]=function(){for(var e=0,t=0,n=arguments.length;n>t;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;n>t;t++)for(var a=arguments[t],i=0,s=a.length;s>i;i++,o++)r[o]=a[i];return r}(this.listeners[e]||[],[t]),function(){return n.off(e,t)}},e.prototype.off=function(e,t){this.listeners[e]&&this.listeners[e].splice(this.listeners[e].indexOf(t)>>>0,1)},e.prototype.emit=function(e){for(var t=[],n=1;arguments.length>n;n++)t[n-1]=arguments[n];var r=this.listeners;(r[e]||[]).slice().map((function(e){return e.apply(void 0,t)})),(r["*"]||[]).slice().map((function(e){return e.apply(void 0,t)}))},e}();var i=function(){return"find"in Array.prototype};i._name="hasArrayPrototypeFind";var s=function(){return"some"in Array.prototype};s._name="hasArrayPrototypeSome";var c=function(){return"includes"in Array.prototype};c._name="hasArrayPrototypeIncludes";var l=function(){return"from"in Array&&function(){try{return!0}catch(e){return!1}}()};l._name="hasArrayFrom";var u=function(){return"Element"in window&&"remove"in Element.prototype};u._name="hasElementPrototypeRemove";var p=function(){return"Promise"in window};p._name="hasPromise";var d=function(){return"isInteger"in Number};d._name="hasIsInteger";var h=function(){return"assign"in Object};h._name="hasObjectAssign";var f=function(){try{var e=new window.URL("http://example.com");if("href"in e&&"searchParams"in e){var t=new URL("http://example.com");if(t.search="a=1&b=2","http://example.com/?a=1&b=2"===t.href&&(t.search="","http://example.com/"===t.href)){var n=new window.URLSearchParams("a=1");if(new window.URLSearchParams(n+"")+""=="a=1")return!0}}return!1}catch(e){return!1}};f._name="hasUrl";var g=function(){return"fetch"in window};g._name="hasFetch";var y=function(){return"Symbol"in window&&0===window.Symbol.length};y._name="hasSymbol",y._name="hasIntl";var m,v,w,b=function(){return"repeat"in String.prototype};b._name="hasStringRepeat",function(e){e.Local="localStorage",e.Session="sessionStorage"}(m||(m={})),function(e){e[e.Initial=0]="Initial",e[e.Loading=1]="Loading",e[e.Ready=2]="Ready",e[e.Failed=3]="Failed"}(v||(v={})),function(e){e.Loading="loading",e.Ready="ready",e.Failed="failed"}(w||(w={}));var k=function(){},_=function(e){function n(t){var n=e.call(this)||this;return n.loadTimeout=3e4,n.status=v.Initial,n.isStrictDetection=!1,n.featureChecks=[i,c,s,l,u,p,h,f,g,b,d],n.load=function(e,t){void 0===e&&(e=k),void 0===t&&(t=k);var r=function(){n.on(w.Ready,e),n.on(w.Failed,t)};switch(n.getStatus()){case v.Initial:if(r(),n.isRequired()){n.timeoutProcess=window.setTimeout((function(){throw Error("Polyfill load timeout of "+n.loadTimeout/1e3+" seconds")}),n.loadTimeout);var o=n.publicNamespace+".handleSuccess",a=n.baseUrl+n.path.replace("{callback}",o);n.createScriptTag(a,{onload:n.handleSuccess,onerror:n.handleFailed})}else n.handleSuccess();break;case v.Loading:r();break;case v.Ready:e();break;case v.Failed:t(n.lastError)}},n.handleSuccess=function(){n.timeoutProcess&&clearTimeout(n.timeoutProcess);var e=!1;if(n.isRequired()){var t=n.detectMissingFeatures()[0],r="Incompatible implementation for feature: "+t;n.isStrictDetection?n.handleFailed(Error(r)):(e=!0,n.handleFailed(new A(r,t)))}else n.status!==v.Ready&&(e=!0);e&&(n.status=v.Ready,setTimeout((function(){return n.emit(w.Ready)}),25))},n.createScriptTag=function(e,t){return function(e,t,n){var r=document.createElement("script");return Object.keys(n||{}).forEach((function(e){-1!==["function","boolean"].indexOf(typeof n[e])?r[e]=n[e]:r.setAttribute(e,n[e])})),e.appendChild(r),r}("function"==typeof n.scriptTarget?n.scriptTarget():n.scriptTarget,0,o({async:!0,crossOrigin:"anonymous",src:e},t||{}))},n.handleFailed=function(e){n.status=v.Failed,n.lastError=e,n.emit(w.Failed,e)},n.scriptTarget=t.scriptTarget,n.publicNamespace=t.publicNamespace,n.baseUrl=t.baseUrl,n.path=t.path,n}return t(n,e),n.prototype.isRequired=function(){for(var e=this.featureChecks,t=0;t<e.length;t++)if(!e[t]())return!0;return!1},n.prototype.detectMissingFeatures=function(){return this.featureChecks.filter((function(e){return!e()})).map((function(e){return e._name}))},n.prototype.getStatus=function(){return this.status},n.prototype.isInitial=function(){return this.status===v.Initial},n.prototype.isLoading=function(){return this.status===v.Loading},n.prototype.isReady=function(){return this.status===v.Ready},n.prototype.isFailed=function(){return this.status===v.Failed},n}(a),A=function(e){function n(t,r){var o=e.call(this,t)||this;return Object.setPrototypeOf(o,n.prototype),o}return t(n,e),n.prototype.getFeature=function(){return this.feature},n}(Error),S=function(e,t){if("string"==typeof t||"object"!=typeof e){for(var n=t.split("."),r=e,o=0;o<n.length;o++)r[t=n[o]]=r[t]||{},r=r[t];return r}throw new TypeError}(n.g,"__HC__"),E=S.hasOwnProperty("polyfiller")?S.polyfiller:null;E||(E=new _({baseUrl:"//polyfill.io/v3/polyfill.min.js",path:"?flags=gated&features=default%2CArray.from%2CArray.isArray%2CPromise%2Cfetch%2CURL%2CArray.prototype.find%2CArray.prototype.forEach%2CString.prototype.repeat%2CArray.prototype.includes%2CSet%2CMap%2CObject.values%2CArray.prototype.some%2CNumber.isInteger&flags=gated&callback={callback}",publicNamespace:"__HC__.polyfiller",scriptTarget:function(){return window.document.body}}),S.polyfiller=E);const I=E,C=function(){function e(){this.storage={}}return e.prototype.key=function(e){var t=Object.keys(this.storage);return e in t?t[e]:null},e.prototype.getItem=function(e){return e in this.storage?this.storage[e]:null},e.prototype.setItem=function(e,t){this.storage[e]=t},e.prototype.removeItem=function(e){delete this.storage[e]},e.prototype.clear=function(){this.storage={}},Object.defineProperty(e.prototype,"length",{get:function(){return Object.keys(this.storage).length},enumerable:!1,configurable:!0}),e}();var R;!function(e){e.Reply="reply",e.Message="message",e.Confirmation="confirmation",e.Handshake="handshake",e.HandshakeAcknowledged="handshakeAcknowledged",e.HandshakeAcknowledgedConfirmation="handshakeAcknowledgedConfirmation"}(R||(R={}));const O=function(){function e(e){var t=this;this.isConnectedState=!1,this.isHandshakeAcknowledged=!1,this.isDebugActive=!1,this.debugData={},this.handleMessage=function(e){var n;if("string"==typeof e.data)try{n=JSON.parse(e.data)}catch(e){}if(n&&t.isValidEnvelope(n)&&n.messengerId!==t.messengerId){t.log("received",n);var r=n.type===R.Message,a=n.type===R.Handshake,i=n.type===R.HandshakeAcknowledged,s=n.type===R.HandshakeAcknowledgedConfirmation,c=n.type===R.Reply;if(r){var l={replyId:n.id,type:R.Reply};if(!t.messageHandler)throw Error("messageHandler is required when receiving messages");t.messageHandler(n.message,(function(e){return t._post(e,l)}),(function(e){return t._post(e,o(o({},l),{isRejected:!0}))}),l)}else if(a){var u={replyId:n.id,type:R.HandshakeAcknowledged};try{if(t.isHandshakeAcknowledged)throw Error("PostMessenger interfering with same orgin "+t.origin+" and namespace "+t.namespace);t._post(null,u)}catch(e){t._post(e,o(o({},u),{isRejected:!0}))}}else if(n.replyId in t.pending){var p=t.pending[n.replyId];c||i?(n.isRejected?p.rejector(n.message):p.resolver(n.message),t._post(null,{replyId:n.id,type:i?R.HandshakeAcknowledgedConfirmation:R.Confirmation}),i&&(t.isHandshakeAcknowledged=!0)):(p.resolver(),s&&t.handshakeEnvelope.resolver()),(i||s)&&(t.isHandshakeAcknowledged=!0),delete t.pending[n.replyId]}}},this.pending={},this.namespace=e.namespace||"*",this.messageHandler=e.messageHandler||null,this.origin=e.origin||"*",this.target=e.target,this.messengerId="_"+Math.random().toString(36).substr(2,9),this.isDebugActive=!0===e.isDebugActive,!1!==e.doAutoConnect&&this.connect()}return e.prototype.post=function(e){return this._post(e)},e.prototype.isConnected=function(){return this.isConnectedState},e.prototype.connect=function(){if(!this.isConnected()){var e=this.getLastUniqueId();this.isConnectedState=!0,this.observerDisconnector=(t=window,n="message",r=this.handleMessage,void 0===o&&(o={}),t.addEventListener?t.addEventListener(n,r,o):t.attachEvent?t.attachEvent("on"+n,r):t["on"+n]=r,function(){return function(e,t,n,r){void 0===r&&(r={}),e.addEventListener?e.removeEventListener(t,n,r):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}(t,n,r,o)}),this.handshakeReady=this._post(null,{type:R.Handshake}),this.handshakeEnvelope=this.pending[e]}var t,n,r,o;return this.handshakeReady},e.prototype.getDebugLog=function(){return this.debugData},e.prototype.disconnect=function(){this.isConnected()&&(this.isHandshakeAcknowledged=!1,this.isConnectedState=!1,this.observerDisconnector(),this.observerDisconnector=null)},e.prototype._post=function(e,t){var n,r,a=this;if(!this.isConnected())throw Error("Not connected");var i=new Promise((function(e,t){n=e,r=t})),s=this.createEnvelope(e,o({resolver:n,rejector:r},t||{})),c=-1!==[R.Handshake,R.HandshakeAcknowledged,R.HandshakeAcknowledgedConfirmation].indexOf(s.type),l=JSON.stringify(s),u=function(){a.log("post",s),a.target.postMessage(l,a.origin)};return c?u():this.handshakeReady.then(u),s.type!==R.Confirmation&&s.type!==R.HandshakeAcknowledgedConfirmation||delete this.pending[s.id],i},e.prototype.log=function(e,t){this.isDebugActive&&(e in this.debugData||(this.debugData[e]=[]),this.debugData[e].push(t))},e.prototype.createEnvelope=function(e,t){var n=t.resolver,r=t.rejector,o=t.replyId,a=void 0===o?null:o,i=t.type,s=void 0===i?R.Message:i,c=t.isRejected,l=void 0!==c&&c,u={__POSTMESSENGER_ENVELOPE__:!0,id:this.getUniqueId(),isRejected:l,message:e,messengerId:this.messengerId,namespace:this.namespace,replyId:a,time:(new Date).toString(),type:s};if(l){var p=u.message;u.message=p&&"object"==typeof p&&p.hasOwnProperty("message")?p.message:p}return this.pending[u.id]={envelope:u,rejector:r,resolver:n},u},e.prototype.getUniqueId=function(){return e.lastEnvelopeId++},e.prototype.getLastUniqueId=function(){return e.lastEnvelopeId},e.prototype.isValidEnvelope=function(e){return"object"==typeof e&&null!==e&&"__POSTMESSENGER_ENVELOPE__"in e&&("*"===e.namespace||e.namespace===this.namespace)},e.lastEnvelopeId=0,e}(),H=function(){function e(e){this.storage=e.storage||window.localStorage}return e.prototype.get=function(e,t){var n=this.getData(e);return n&&t in n?n[t]:null},e.prototype.getAll=function(e){return this.getData(e)},e.prototype.set=function(e,t,n){var r=this.getData(e);r[t]=n,this.writeToStorage(e,r)},e.prototype.has=function(e,t){var n=this.getData(e);return n&&t in n},e.prototype.clear=function(e,t){if(this.has(e,t)){var n=this.getData(e);delete n[t],this.writeToStorage(e,n)}},e.prototype.clearAll=function(e){this.storage.removeItem(e)},e.prototype.getData=function(e){var t=this.storage.getItem(e);return null!==t?JSON.parse(t):{}},e.prototype.writeToStorage=function(e,t){try{this.storage.setItem(e,JSON.stringify(t))}catch(e){throw Error("LocalStorage quota exceeded")}},e}(),P=function(e){var t=this;this.handleMessage=function(e,n,r,o){return a=t,void 0,s=function(){var t,o,a,i,s,c,l;return function(e,t){function n(n){return function(i){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,o&&(a=2&n[0]?o.return:n[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||6!==n[0]&&2!==n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{r=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,i])}}var r,o,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i}(this,(function(u){try{switch(t=e.type,o=e.payload,a=o.rootKey,i=o.key,s=void 0===i?null:i,c=o.value,l=void 0===c?null:c,t){case"get":n(this.storage.get(a,s));break;case"getAll":n(this.storage.getAll(a));break;case"set":n(this.storage.set(a,s,l));break;case"has":n(this.storage.has(a,s));break;case"clear":n(this.storage.clear(a,s));break;case"clearAll":n(this.storage.clearAll(a));break;default:throw Error("Invalid action type "+t)}}catch(e){r(e)}return[2]}))},new((i=void 0)||(i=Promise))((function(e,t){function n(e){try{o(s.next(e))}catch(e){t(e)}}function r(e){try{o(s.throw(e))}catch(e){t(e)}}function o(t){var o;t.done?e(t.value):(o=t.value,o instanceof i?o:new i((function(e){e(o)}))).then(n,r)}o((s=s.call(a)).next())}));var a,i,s},this.messenger=new O(o(o({name:"storageRelay"},e),{messageHandler:this.handleMessage}));var n=new C;try{n=window.localStorage}catch(e){window&&window.console&&window.console.warn("[HC] storage restriction by browser. Will use array storage")}this.storage=new H({storage:n})},j=function(){function e(){this.isInitialized=!1,this.initApp()}return e.prototype.initApp=function(){this.isInitialized||(new P({namespace:"__HC__.storageRelay",target:window.parent}),this.isInitialized=!0)},e}();var T,D;T=function(){new j},D=function(e){console.error("Something went wrong in storageRelay: ",e)},I.load(T,D),((e=void 0===e?{}:e).storageRelay=e.storageRelay||{}).App={}.default})();